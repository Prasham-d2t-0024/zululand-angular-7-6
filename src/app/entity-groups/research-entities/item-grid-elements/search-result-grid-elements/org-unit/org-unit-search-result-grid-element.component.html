<div class="card" [@focusShadow]="(isCollapsed$ | async)?'blur':'focus'">
  <div class="mb-1 tag-content px-1">
    <ds-themed-badges *ngIf="showLabel" [object]="dso" [context]="context" [showAccessStatus]="true"></ds-themed-badges>
  </div>
  <a *ngIf="linkType != linkTypes.None" [target]="(linkType == linkTypes.ExternalLink) ? '_blank' : '_self'"
    [attr.rel]="(linkType == linkTypes.ExternalLink) ? 'noopener noreferrer' : null" [routerLink]="[itemPageRoute]"
    class="card-img-top full-width position-relative" [attr.title]="'search.results.view-result' | translate">
    <div>
      <ds-themed-thumbnail [thumbnail]="dso?.thumbnail | async" [defaultImage]="'assets/images/orgunit-placeholder.svg'"
        [limitWidth]="false">
      </ds-themed-thumbnail>
    </div>
  </a>
  <span *ngIf="linkType == linkTypes.None" class="card-img-top full-width">
    <div>
      <ds-themed-thumbnail [thumbnail]="dso?.thumbnail | async" [defaultImage]="'assets/images/orgunit-placeholder.svg'"
        [limitWidth]="false">
      </ds-themed-thumbnail>
    </div>
  </span>
  <div class="card-body">
    <ds-truncatable class="cardinner-content" [id]="dso.id">
      <ds-truncatable-part [id]="dso.id" [minLines]="3" type="h4">
        <a *ngIf="linkType != linkTypes.None" [target]="(linkType == linkTypes.ExternalLink) ? '_blank' : '_self'"
          [attr.rel]="(linkType == linkTypes.ExternalLink) ? 'noopener noreferrer' : null"
          [routerLink]="[itemPageRoute]" class="ellipsify-vertical line-3 item-list-title dont-break-out"
          [innerHTML]="dsoTitle">
        </a>
      </ds-truncatable-part>
      <p *ngIf="dso.hasMetadata('organization.foundingDate')" class="item-date card-text text-muted">
        <ds-truncatable-part [id]="dso.id" [minLines]="1">
          <span [innerHTML]="firstMetadataValue('organization.foundingDate')"></span>
        </ds-truncatable-part>
      </p>
      <p *ngIf="dso.hasMetadata('organization.address.addressCountry')" class="item-location card-text">
        <ds-truncatable-part [id]="dso.id" [minLines]="3">
          <span class="item-country">{{firstMetadataValue('organization.address.addressCountry')}}</span>
          <span *ngIf="dso.hasMetadata('organization.address.addressLocality')" class="item-city">
            <span>, </span>
            {{firstMetadataValue('organization.address.addressLocality')}}
          </span>
        </ds-truncatable-part>
      </p>

      <ds-truncatable-part [id]="dso.id" [minLines]="1"
        *ngIf="dso.hasMetadata(['dc.contributor.author', 'dc.creator', 'dc.contributor.*'])">
        <p class="item-authors card-text text-muted">
          <span *ngIf="dso.hasMetadata('dc.date.issued')"
            class="item-date">{{firstMetadataValue('dc.date.issued')}}</span>
          <span *ngFor="let author of allMetadataValues(['dc.contributor.author', 'dc.creator', 'dc.contributor.*']);">,
            <span [innerHTML]="author"></span>
          </span>
        </p>
      </ds-truncatable-part>

    </ds-truncatable>

    <div class="bottem-count-text mt-3 w-100">
      <ul>
        <li class="icon-text  border-right">
          <i class="fa fa-paperclip mr-3" aria-hidden="true"></i>
          <span>{{dso.bitstreamcount}}</span>
        </li>
        <li class="icon-text  border-right">
          <i class="fa fa-eye mr-3" aria-hidden="true"></i>
          <span>{{dso.viewcount}}</span>
        </li>
        <li class="icon-text  border-right">
          <i class="fa fa-star mr-3" aria-hidden="true"></i>
          <span>{{dso.ratinavg}}</span>
        </li>
        <!-- <li class="icon-text  ">
          <i class="fa fa-comment mr-3 font-wight-info" aria-hidden="true"></i>
          <span>{{dso.commentcount}}</span>
        </li> -->
      </ul>
    </div>
  </div>
  <ng-content></ng-content>
</div>


<!-- <div class="card" [@focusShadow]="(isCollapsed$ | async)?'blur':'focus'">
  <ds-truncatable [id]="dso.id">
    <div class="position-absolute ml-1">
      <ng-content></ng-content>
    </div>
    <a *ngIf="linkType != linkTypes.None"
       [target]="(linkType == linkTypes.ExternalLink) ? '_blank' : '_self'"
       [attr.rel]="(linkType == linkTypes.ExternalLink) ? 'noopener noreferrer' : null" [routerLink]="[itemPageRoute]"
       class="card-img-top full-width" [attr.title]="'search.results.view-result' | translate">
      <div>
        <ds-themed-thumbnail [thumbnail]="dso?.thumbnail | async" [limitWidth]="false">
        </ds-themed-thumbnail>
      </div>
    </a>
    <span *ngIf="linkType == linkTypes.None" class="card-img-top full-width">
            <div>
                <ds-themed-thumbnail [thumbnail]="dso?.thumbnail | async" [limitWidth]="false">
                </ds-themed-thumbnail>
            </div>
        </span>
    <div class="card-body">
      <ds-themed-badges *ngIf="showLabel" [object]="dso" [context]="context"></ds-themed-badges>
      <ds-truncatable-part [id]="dso.id" [minLines]="3" type="h4">
        <h4 class="card-title" [innerHTML]="dsoTitle"></h4>
      </ds-truncatable-part>
      <p *ngIf="dso.hasMetadata('organization.foundingDate')"
         class="item-date card-text text-muted">
        <ds-truncatable-part [id]="dso.id" [minLines]="1">
          <span [innerHTML]="firstMetadataValue('organization.foundingDate')"></span>
        </ds-truncatable-part>
      </p>
      <p *ngIf="dso.hasMetadata('organization.address.addressCountry')"
         class="item-location card-text">
        <ds-truncatable-part [id]="dso.id" [minLines]="3">
          <span
            class="item-country">{{firstMetadataValue('organization.address.addressCountry')}}</span>
          <span *ngIf="dso.hasMetadata('organization.address.addressLocality')" class="item-city">
            <span>, </span>
            {{firstMetadataValue('organization.address.addressLocality')}}
          </span>
        </ds-truncatable-part>
      </p>
      <div *ngIf="linkType != linkTypes.None" class="text-center">
        <a [target]="(linkType == linkTypes.ExternalLink) ? '_blank' : '_self'"
           [attr.rel]="(linkType == linkTypes.ExternalLink) ? 'noopener noreferrer' : null" [routerLink]="[itemPageRoute]"
           class="lead btn btn-primary viewButton">{{ 'search.results.view-result' | translate}}</a>
      </div>
    </div>
  </ds-truncatable>
  <ng-content></ng-content>
</div> -->
