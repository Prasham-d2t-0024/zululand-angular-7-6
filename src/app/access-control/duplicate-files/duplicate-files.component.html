<div class="container-fluid pl-4 tab">
    
    <table class="table bg-white ">
        <thead class="thead-dark">
            <tr>
                <th scope="col">Title</th>
                <th scope="col">Author</th>
                <th scope="col">Count</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>
            <ng-container *ngFor="let item of itemarray; let i = index">
            <tr>
               
                <td>{{item.title}}</td>
                <td>{{item.author}}</td>
                <td>{{item.count}}</td>
                <td><button class="btn btn-primary "(click)="viewItem(item,i)">View</button></td>
            </tr>
          <tr *ngIf="showDetails && selectedIndex === i">
            <td colspan="4">
              <table class="table mb-0 ">
                <ds-pagination *ngIf="(sublist | async)?.payload?.totalElements > 0"
                    [paginationOptions]="pageConfig"
                    [pageInfoState]="(sublist | async)?.payload"
                    [collectionSize]="(sublist | async)?.payload?.totalElements"
                    [hideGear]="true" [hidePagerWhenSinglePage]="true">
                <table class="table bg-white table-bordered table-hover " *ngIf="(sublist | async)?.payload?.page">
                    <thead class="thead-light">
                        <tr>
                            
                            <th scope="col">Title</th>
                            <th scope="col">Author</th>
                            <th scope="col">Location</th>
                            <th scope="col">View</th>
                            <th scope="col">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of (sublist | async)?.payload?.page">
                            <td>{{item.firstMetadataValue('dc.title')}}</td>
                            <th>{{item.allMetadataValues('dc.contributor.author').toString()}}</th>
                            <th>{{item.location}}</th>
                            <td><a [href]="item.firstMetadataValue('dc.identifier.uri')">{{item.firstMetadataValue('dc.identifier.uri')}}</a></td>
                            <td><button class="btn btn-danger "(click)="deleteItem(item,content)">Delete</button></td>
                        </tr>
                       
                    </tbody>
                    
                </table>
            
            </ds-pagination>
              </table>
            </td>
          </tr>
        </ng-container>
        <ds-themed-loading *ngIf="!itemarray || itemarray?.length === 0"
                    message="{{'loading.search-results' | translate}}"></ds-themed-loading>
        </tbody>
      </table>
   
    <!-- <tbody [attr.id]="'group-of-rows-0'" [ngClass]="!!isView ? '':'collapse'">
        <div class="recent-item-list mb-4" *ngFor="let item of itemSubarray">
        <ds-listable-object-component-loader [object]="item" [viewMode]="viewMode" class="pb-4">
        </ds-listable-object-component-loader>
        </div>
     </tbody> -->
</div>

<ng-template #content let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h4 class="modal-title text-danger">Delete Item</h4>
        <button type="button" id="delete_close" class="close" aria-label="Close" (click)="d('cancel')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <p>Are you sure you want to delete this item ?</p>
    </div>
    <div class="modal-footer">
        <button type="button" id="delete_cancel" class="btn btn-secondary"
            (click)="c('cancel')">{{'submission.general.discard.confirm.cancel' | translate}}</button>
        <button type="button" id="delete_confirm" class="btn btn-danger"
            (click)="c('ok')">{{'submission.general.discard.confirm.submit' | translate}}</button>
    </div>
</ng-template>