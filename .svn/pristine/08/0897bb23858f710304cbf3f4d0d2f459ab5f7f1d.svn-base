<div class="row bg-white" style="margin-right: 0px;margin-left: 0px;">
  <div *ngIf="showThumbnails" class="col-3 col-md-2 mt-3 mb-3">
    <ds-thumbnail [thumbnail]="item?.thumbnail | async" [limitWidth]="true">
    </ds-thumbnail>
  </div>
  <div [ngClass]="showThumbnails ? 'col-9 mt-3 mb-3' : 'col-md-12 mt-3 mb-3'">
    <div *ngIf="item" @fadeInOut>
      <div class="d-flex">
        <ds-themed-badges [object]="item" [context]="badgeContext" [showAccessStatus]="true"></ds-themed-badges>
      </div>
      <ds-truncatable [id]="item.id">
        <h3 [innerHTML]="dsoTitle" [ngClass]="{'lead': true,'text-muted': !item.firstMetadataValue('dc.title')}"></h3>
        <div>
          <!-- <span class="text-muted">
            <ds-truncatable-part [id]="item.id" [minLines]="1">
              (<span *ngIf="item.hasMetadata('dc.publisher')" class="item-list-publisher"
                [innerHTML]="item.firstMetadataValue('dc.publisher') + ', '"></span>
              <span class="item-list-date"
                [innerHTML]="item.firstMetadataValue('dc.date.issued') || ('mydspace.results.no-date' | translate)"></span>)
              <span *ngIf="item.hasMetadata(['dc.contributor.author', 'dc.creator', 'dc.contributor.*']);"
                class="item-list-authors">
                <span
                  *ngIf="item.allMetadataValues(['dc.contributor.author', 'dc.creator', 'dc.contributor.*']).length === 0">{{'mydspace.results.no-authors'
                  | translate}}</span>
                <span
                  *ngFor="let author of item.allMetadataValues(['dc.contributor.author', 'dc.creator', 'dc.contributor.*']); let last=last;">
                  <span [innerHTML]="author"><span [innerHTML]="author"></span></span>
                  <span *ngIf="!last">; </span>
                </span>
              </span>

            </ds-truncatable-part>
          </span> -->
          <div class="mb-2 d-flex">
          <div>
            <span *ngIf="item.allMetadataValues(['dc.contributor.author']).length <= 2" class="item-list-authors text-secondary">
              <i class="fa fa-user mr-2" aria-hidden="true" *ngIf="item.allMetadataValues(['dc.contributor.author']).length != 0"></i>
              <span *ngFor="let author of item.allMetadataValues(['dc.contributor.author']); let last=last;">
                <a [routerLink]="['/browse/author']" [queryParams]="{'value':author}">
                  <span [title]="author">{{ author.length > 10 ? (author | slice:0:10) + '...' : author }}</span>
                </a>
                <span *ngIf="!last">; </span>
                <span *ngIf="last" style="color: grey!important;"> | </span>
              </span>
            </span>
          
            <span class="item-list-authors text-secondary" *ngIf="item.allMetadataValues(['dc.contributor.author']).length > 2">
              <i class="fa fa-user mr-2" aria-hidden="true"></i>
              <span *ngFor="let author of item.allMetadataValues(['dc.contributor.author']).slice(0, 2); let last=last;">
                <a [routerLink]="['/browse/author']" [queryParams]="{'value': author}">
                  <span [title]="author">{{ author.length > 10 ? (author | slice:0:10) + '...' : author }}</span>
                </a>
                <span *ngIf="!last">; </span>
          
              </span>
              <div *ngIf="item.allMetadataValues(['dc.contributor.author']).length > 2" ngbDropdown class="d-inline">
                <a type="button" class="arrowhide dropdown-toggle" id="authorDropdown" ngbDropdownToggle aria-haspopup="true"
                  aria-expanded="false">
                  <i class="fa fa-ellipsis-v ml-2 mr-2" aria-hidden="true"></i>
                </a>
                <span style="color: grey;"> | </span>
                <div class="listDropdown-left-menu" ngbDropdownMenu aria-labelledby="authorDropdown">
                  <a *ngFor="let author of item.allMetadataValues(['dc.contributor.author']).slice(2)" ngbDropdownItem>
                    <a class="h6" [routerLink]="['/browse/author']" [queryParams]="{'value': author}">
                      <span style="font-size: 14px!important;">{{ author }}</span>
                    </a>
                  </a>
                </div>
              </div>
            </span>
          </div>
          <div>
            <span class="text-muted">
              <span *ngIf="item.allMetadata(['dc.date.issued']).length > 0" class="item-list-authors">
                <i class="fa-solid fa-calendar-days mr-2 ml-2"></i>
                <span *ngFor="let date of item.allMetadataValues(['dc.date.issued']); let last=last;">
                  <span [innerHTML]="date"></span>
                </span>
              </span>
            </span>
          </div>
          <div>
            <span class="text-muted">
              <span *ngIf="item.allMetadata(['dc.publisher']).length > 0" class="item-list-authors">
                <span style="color: grey;">&nbsp;|&nbsp;</span>
                <i class="fa-regular fa-building mr-2 ml-2"></i>
                <span *ngFor="let publisher of item.allMetadataValues(['dc.publisher']); let last=last;">
                  <span [title]="publisher">{{ publisher.length > 20 ? (publisher | slice:0:20) + '...' : publisher }}</span>
                  <span *ngIf="!last">; </span>
                </span>
              </span>
            </span>
          </div>
        </div>
          <!-- <ds-truncatable-part [id]="item.id" [minLines]="1" class="item-list-abstract">
            <span [ngClass]="{'text-muted': !item.firstMetadataValue('dc.description.abstract')}"
              [innerHTML]="(item.firstMetadataValue('dc.description.abstract')) || ('mydspace.results.no-abstract' | translate)"></span>
          </ds-truncatable-part> -->
          <div class="mb-2">
        
            <span class="text-muted">
              <ds-truncatable-part [id]="item.id" [minLines]="3" *ngIf="item.firstMetadataValue(['dc.description.abstract'])">
                    <span [innerHTML]="item.firstMetadataValue('dc.description.abstract') || ('mydspace.results.no-abstract' | translate)"></span>
              </ds-truncatable-part>
            </span>
          </div>

        </div>
      </ds-truncatable>
      <ds-item-submitter *ngIf="showSubmitter" [object]="object.indexableObject"></ds-item-submitter>
      <ds-item-collection [object]="object.indexableObject"></ds-item-collection>
    </div>
  </div>
</div>
